"use strict";const e=require("../../../common/vendor.js");var t={getWeixinCode:function(){return new Promise(((t,i)=>{e.index.login({provider:"weixin",success(e){t(e.code)},fail(e){i(new Error("获取微信code失败"))}})}))},getAlipayCode:function(){},checkPlatform:function(){},getH5Env:function(){let e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)&&"miniprogram"==e.match(/miniprogram/i)?"mp-weixin":"micromessenger"==e.match(/MicroMessenger/i)?"h5-weixin":"alipay"==e.match(/alipay/i)&&"miniprogram"==e.match(/miniprogram/i)?"mp-alipay":"alipay"==e.match(/alipay/i)?"h5-alipay":"h5"},timeFormat:function(e,t="yyyy-MM-dd hh:mm:ss",i=8){try{if(!e)return"";let n;"string"!=typeof e||isNaN(e)||(e=Number(e)),"number"==typeof e?(10==e.toString().length&&(e*=1e3),n=new Date(e)):n=e;const r=60*n.getTimezoneOffset()*1e3+60*i*60*1e3,o=n.getTime()+r;n=new Date(o);let a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}catch(n){return e}}};exports.util=t;
