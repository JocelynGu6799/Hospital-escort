"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("formater")+e.resolveComponent("counter"))()}Math||((()=>"../../components/formater/formater.js")+(()=>"../../components/counter/counter.js"))();const t={__name:"index",setup(t){const a=getApp();e.onShow((()=>{o.value=a.globalData.orders_filt,console.log("filt.value",o.value),l()}));const o=e.ref(""),r=e=>{o.value=e.currentTarget.dataset.filt,l()},s=e.ref(null),l=()=>{a.globalData.utils.myrequest({myurl:"/order/list",data:{state:o.value},header:{token:e.index.getStorageSync("token")},mysuccess:e=>{console.log("获取订单信息",e),s.value=e.data},myfail:t=>(console.log("获取订单信息错误",t),e.index.showToast({title:"获取订单信息错误",icon:"error"}))})},n=t=>{e.index.navigateTo({url:"./order?oid="+t.currentTarget.dataset.id})},m=()=>{l()};return(t,a)=>e.e({a:e.n("h-tab-item vp-flex_1 "+(""==o.value?"on":"")),b:e.o(r),c:e.n("h-tab-item vp-flex_1 "+(1==o.value?"on":"")),d:e.o(r),e:e.n("h-tab-item vp-flex_1 "+(2==o.value?"on":"")),f:e.o(r),g:e.n("h-tab-item vp-flex_1 "+(3==o.value?"on":"")),h:e.o(r),i:e.n("h-tab-item vp-flex_1 "+(4==o.value?"on":"")),j:e.o(r),k:null!=s.value},null!=s.value?e.e({l:null!=s.value&&0==s.value.length},null!=s.value&&0==s.value.length?{}:{m:e.f(s.value,((t,a,o)=>e.e({a:t.service_logo_image_url,b:e.t(t.service_name),c:t.service_stype<=20},t.service_stype<=20?{d:e.t(t.hospital_name),e:e.t(t.area_name),f:"05b08805-0-"+o,g:e.p({timestamp:t.starttime,format:"MM-dd hh:mm"}),h:e.t(t.client_name)}:{},{i:t.service_stype>20&&t.service_stype<100},t.service_stype>20&&t.service_stype<100?{j:e.t(t.hospital_name),k:e.t(t.area_name),l:"05b08805-1-"+o,m:e.p({timestamp:t.starttime,format:"MM-dd hh:mm"})}:{},{n:t.service_stype>100},t.service_stype>100?{o:"05b08805-2-"+o,p:e.p({timestamp:t.starttime,format:"MM-dd hh:mm"}),q:e.t(t.client_name)}:{},{r:"待支付"==t.trade_state},"待支付"==t.trade_state?{s:e.o(m,a),t:"05b08805-3-"+o,v:e.p({second:t._exp_time})}:{},{w:"待服务"==t.trade_state},(t.trade_state,{}),{x:"已完成"==t.trade_state},(t.trade_state,{}),{y:"已取消"==t.trade_state},(t.trade_state,{}),{z:e.o(n,a),A:t.out_trade_no,B:a})))}):{})}};wx.createPage(t);
