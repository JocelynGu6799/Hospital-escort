"use strict";const e=require("../../common/vendor.js");if(!Array){e.resolveComponent("share")()}Math;const a={__name:"index",setup(a){const t=getApp();e.onShow((()=>{r()})),e.ref("");const o=e.ref({}),l=e.ref({}),r=()=>{t.globalData.utils.myrequest({myurl:"/User/index",header:{token:e.index.getStorageSync("token")},mysuccess:e=>{console.log("获取用户信息",e),o.value=e.data.mine,l.value=e.data.statistic},myfail:a=>(console.log("获取用户信息错误",a),e.index.showToast({title:"获取用户信息错误",icon:"error"}))})},n=a=>{t.globalData.orders_filt=a.currentTarget.dataset.filt,e.index.switchTab({url:"/pages/myorder/index"})},s=e.ref(!1),u=()=>{s.value=!0},i=()=>{e.index.navigateTo({url:"../clients/index?act=delete"})};return(a,t)=>e.e({a:o.value.avatar},o.value.avatar?{b:o.value.avatar_url}:{},{c:e.t(o.value.nickname?o.value.nickname:"用户"+o.value._id),d:e.o(n),e:l.value.topays>0},l.value.topays>0?{f:e.t(l.value.topays)}:{},{g:e.o(n),h:l.value.todos>0},l.value.todos>0?{i:e.t(l.value.todos)}:{},{j:e.o(n),k:e.o(n),l:e.o(n),m:e.o(i),n:e.o(u),o:e.p({shareModal:s.value})})}};wx.createPage(a);
